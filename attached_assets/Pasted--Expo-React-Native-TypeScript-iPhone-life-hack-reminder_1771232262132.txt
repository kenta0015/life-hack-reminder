あなたは熟練のExpo/React Native(TypeScript)開発者です。iPhoneアプリのプロトタイプ 「life-hack-reminder」 を作ってください。
まずは Replit上でWebとして動く ことを最優先にし、将来iPhone実機へ移行できる構成（Expo）にしてください。バックエンドは不要、データは端末ローカルのみで完結させます。

目的（コンセプト）

人生で大事な言葉・コツ・型ほど忘れるので、保存したものを 通知（プロトタイプでは疑似配信） と ホーム画面ウィジェット（将来） で思い出させる。
さらに「役に立った？」の反応で、効くものほど残り、効かないものは淘汰される。

技術要件

Expo + React Native + TypeScript

Replitでは Expo Web で動作（npx expo start --web）

ナビゲーション：React Navigation（Bottom Tabs + Stackなど、シンプルでOK）

永続化：@react-native-async-storage/async-storage（Webでも動く想定）

画像：Life Cardは画像任意。Webでも扱えるように

まずは 画像URL入力 を必須サポート（最優先）

可能なら expo-image-picker も追加（ただしWebで不安定ならURLのみでOK）

UI言語：日本語

外部API/クラウド/ログイン：不要

データモデル（最低限）
ActiveItem（現存アイテム：最大10個）

id: string

type: "lifeCard" | "nudge" | "playbook"

createdAt: number (ms)

updatedAt: number (ms)

stats:

yesCount: number

noCount: number

skipCount: number

displayCount: number // 「表示された（=通知が届いた）」回数

lastDeliveredAt?: number (ms) // 最後に配信（通知が届いた扱い）された時間

content（type別）

lifeCard:

title?: string

phrase: string（必須）

imageUrl?: string（任意）

nudge:

text: string（必須）

playbook:

title: string（必須）

steps: string[]（最大5行、空行OK）

DeleteBoxItem（削除ボックス：別枠、無制限）

元のActiveItem + deletedAt(ms)

削除ボックスは通常表示・配信しない

30日経過で自動的に完全削除（アプリ起動時/削除ボックス表示時に掃除）

Delivery（配信履歴：任意だがあると便利）

id

itemId

deliveredAt

feedbackAsked: boolean（今回の配信で質問を出すか）

feedbackGiven?: "YES" | "NO" | "SKIP"（入力されたら記録）

画面要件（MVP）

優先順位：追加/編集 → ドーン表示 → 一覧 → 役に立った？ → 設定 → 削除ボックス（復活）

1) 一覧（現存10個）

現存アイテムをカード一覧表示（最大10）

上部に「10個中 n個」表示

ボタン：

「追加」

「今すぐ配信をシミュレート（通知が届いた扱い）」←重要

「最新の配信を開く（ドーン画面へ）」←重要

「削除ボックス」

「設定」

各カードには最低限：

タイプ表示（Life Card / Nudge / Playbook）

主要テキスト（phrase/text/title）

yes/no/skip表示

noCountに応じたクールダウン中かどうか（次に出せる日付や残り日数を簡易表示）

2) 追加/編集（タイプ別タブ）

タブまたは選択で3タイプを分ける

入力ルール：

Life Card：短い言葉必須、画像URL任意、タイトル任意

Nudge：1行テキスト必須

Playbook：タイトル必須、手順最大5行（空行OK）

保存で一覧へ戻る

10個制限（強制）

現存が10個の状態で「追加保存」しようとしたら、

必ず置き換え選択UIを出す（「どれと入れ替える？」）

ユーザーが選んだ旧アイテムは 削除ボックスへ移動（deletedAt付与）

新アイテムが現存に入る

復活時も同様：現存10なら置き換え選択必須

3) ドーン画面（フルスクリーン）

最新の配信対象アイテムを 大きく表示

Life Card：画像があれば大きく + 言葉ドーン

Nudge：テキスト大きく

Playbook：タイトル大きく + 手順（最大5行）読みやすく

下部に反応ボタン（ただし「時々」）

表示する場合：YES / SKIP / NO

表示しない場合：反応UIなし（閲覧だけ）

4) 設定

通知スケジュールは固定表示（変更不可でOK）

月水金 9:00

静音時間：なし（表示しない）

ここはシンプルでOK（将来拡張想定の雛形）

5) 削除ボックス（30日保管）

削除ボックス内を一覧表示

各アイテムに「残り日数」を表示

操作：

「復活」（現存へ戻す。現存10なら置き換え選択）

「今すぐ完全削除」

30日経過したものは自動削除（起動時/表示時）

配信（通知）の扱い：プロトタイプ仕様
スケジュール

本番のローカル通知は実装不要。代わりに：

「今すぐ配信をシミュレート」ボタンで配信イベントを発生させる

ただしUI上は固定スケジュール（月水金9:00）を表示し、「このタイミングで届く想定」を持たせる

「表示された」のカウント基準

通知が届いた時点で1回（=配信イベント発生時）

タップしてドーン画面を開いたかどうかはカウントに含めない

優先度・選定ロジック（重要）

配信イベントで、現存アイテムから「次に出す1つ」を決める。

優先度の根拠

YESが多いほど優先度が高い

SKIPは「間隔は変えない」が、優先順位は少し下げる

同じ優先度なら ランダム

実装の具体例（変更可だが一貫性必須）：

baseScore = yesCount

effectiveScore = baseScore - 0.25 * skipCount（小さく下げる）

ソートは effectiveScore desc

同点グループはランダムで1つ

NOクールダウン（最低日数）

noCountに応じて、そのアイテムは最低◯日空けないと配信候補に入らない

noCount=1 → 5日

noCount=2 → 7日

noCount=3 → 9日

noCount=4 → 11日

eligibility判定：

lastDeliveredAt があり、now < lastDeliveredAt + cooldownDays なら候補から除外

「役に立った？」を聞く頻度（時々）

反応は 毎回は聞かない

アイテムごとに3回表示されたら1回 質問を出す

つまり配信時に displayCount を増やし、displayCount % 3 === 0 の配信回は「質問あり」にする

質問ありの回は、ドーン画面でYES/NO/SKIPを表示する
（質問なしの回はボタンを出さない）

反応の効果（確定）
YES

yesCount++

間隔変更なし

もし noCount > 0 なら noCount を -1（最小0）

ルール：「NOの後にYESが出たら累計回数を-1」

SKIP

skipCount++

間隔変更なし

優先順位を少し下げる（上記effectiveScoreで反映）

NO

noCount++

クールダウンが伸びる（上のテーブル）

noCountが5になった瞬間、ドーン画面で「削除しますか？」を表示する

noCount=5到達時の「削除しますか？」

選択肢：

「削除する」→ 削除ボックスへ移動（deletedAt付与）

「削除しない」→ noCount を -1（つまり4に戻す / リーチ状態にする）

削除ボックスに入ったら通常の配信対象から外れる

将来要件（今回は実装しないが前提として記録）

iPhoneホーム画面に表示：ホーム画面ウィジェットで実現（WidgetKit相当）

ウィジェットには Life Cards / Nudges / Playbooks 全部を表示対象にする

ウィジェット更新は 月水金9:00のみでOK

今回のプロトタイプでは「最新配信のアイテム」をUI的に明確に保持し、将来ウィジェットに流用できるようにしておく（lastDeliveredItemId 等で保持）

受け入れ条件（動作チェック）

現存が10個を超えない（追加・復活のどちらも置き換え必須）

削除ボックスは別枠で無制限、30日で自動削除

「今すぐ配信シミュレート」で1件選ばれ、displayCountが増える

選定は yes優先 + skipで少し減点 + noクールダウンで除外

アイテムごとに3回に1回だけ反応を聞く

NOが5で削除確認が出る。削除しない場合はnoCountが4に戻る

YESが入ったらnoCountが-1される（0未満にならない）

ReplitのWeb上で一通り操作できる

出力してほしいもの

動くExpoプロジェクト一式（TypeScript）

Replit上で起動するコマンド手順（短く）

主要な設計判断（スコア式など）はコード内にコメントで明記（日本語UIは維持）